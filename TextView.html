<!-- The Map View Section -->
  <!DOCTYPE html>
<html>
<title>K-W Crime Map</title>
    <!-- animsition CSS -->
<link rel="stylesheet" href="css/animsition.min.css">

<!-- vendor js -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<!-- animsition js -->
<script src="css/jquery.animsition.min.js"></script>
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link type="text/css"       href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet" />
<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
body {font-family: "Lato", sans-serif}
.mySlides {display: none}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
<ul class="w3-navbar w3-black w3-card-2 w3-right-align">
  <li class="w3-hide-medium w3-hide-large w3-opennav w3-right">
    <a class="w3-padding-large" href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
  </li>
  <li class="w3-hide-small w3-right"><a href="index3.html" class="w3-padding-large">Map View</a></li>
  <li class="w3-hide-small w3-right"><a href="TextView.html" class="w3-padding-large">Text View</a></li>
  <li class="w3-hide-small w3-right"><a href="Contact.html" class="w3-padding-large">Contact</a></li>
</ul>
</div>  
 <div class="w3-white" id="textView">
    <div class="w3-container w3-content w3-padding-64" style="max-width:100%" >
    <script src="http://github.highcharts.com/master/highcharts.js"></script>
    <script src="http://github.highcharts.com/master/modules/exporting.src.js"></script>
    <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto; margin-top: 2em"></div>
      something
        </div>
    </div>


  </body>
  </html>
  <script>
var crime_by_month;
      var AreaOrder = {0:"universityOfWaterloo",1:"benchwood",2:"upperbeechwood",3:"beechwoodwest",4:"clairhills",5:"vistahills",6:"columbiaforest",7:"westvale",8:"marplehills",9:"westmount",10:"uptownwaterloo",11:"cityofwaterloo",12:"laurelwood",13:"conservationmeadows",14:"northlakeshore",15:"lakeshore",16:"colonialacres",17:"lincolnvillage",18:"lincolnheights",19:"eastbridge",20:"lexington",21:"universitydowns",22:"kiwanispark"};
      var myArray = new Array();
$.ajax({ 
type:"GET", 
url:"jsp/crime_by_year.jsp", 
dataType:"json", 
success:function(data){ 
//i表示在data中的索引位置，n表示包含的信息的对象 
$.each(data,function(i,n){ 
//获取对象中属性为optionsValue的值 
    delete n["_id"];
    crime_by_month = $.extend({},crime_by_month,n);
}); 
//    for(var el in crime_by_month)
//        {
//            myArray.push(el);
//        }
    crime_by_year = crime_by_month;
    for(var el in crime_by_year)
    {
        var my2011_Jan = crime_by_year[el][2011]["Jan"];
        var my2011_Feb = crime_by_year[el][2011]["Feb"]; 
        var my2011_Mar = crime_by_year[el][2011]["Mar"];
        var my2011_Apr = crime_by_year[el][2011]["Apr"];
        var my2011_May = crime_by_year[el][2011]["May"];
        var my2011_Jun = crime_by_year[el][2011]["Jn"];
        var my2011_July = crime_by_year[el][2011]["Jl"];
        var my2011_Aug = crime_by_year[el][2011]["Ag"];
        var my2011_Sept = crime_by_year[el][2011]["Sep"];
        var my2011_Oct = crime_by_year[el][2011]["Oct"];
        var my2011_Nov = crime_by_year[el][2011]["Nov"];
        var my2011_Dec = crime_by_year[el][2011]["Dec"];
        var my2012_Jan = crime_by_year[el][2012]["Jan"];
        var my2012_Feb = crime_by_year[el][2012]["Feb"]; 
        var my2012_Mar = crime_by_year[el][2012]["Mar"];
        var my2012_Apr = crime_by_year[el][2012]["Apr"];
        var my2012_May = crime_by_year[el][2012]["May"];
        var my2012_Jun = crime_by_year[el][2012]["Jn"];
        var my2012_July = crime_by_year[el][2012]["Jl"];
        var my2012_Aug = crime_by_year[el][2012]["Ag"];
        var my2012_Sept = crime_by_year[el][2012]["Sep"];
        var my2012_Oct = crime_by_year[el][2012]["Oct"];
        var my2012_Nov = crime_by_year[el][2012]["Nov"];
        var my2012_Dec = crime_by_year[el][2012]["Dec"];
        var my2013_Jan = crime_by_year[el][2013]["Jan"];
        var my2013_Feb  = crime_by_year[el][2013]["Feb"];
        var my2013_Mar = crime_by_year[el][2013]["Mar"];
        var my2013_Apr = crime_by_year[el][2013]["Apr"];
        var my2013_May = crime_by_year[el][2013]["May"];
        var my2013_Jun = crime_by_year[el][2013]["Jn"];
        var my2013_July = crime_by_year[el][2013]["Jl"];
        var my2013_Aug = crime_by_year[el][2013]["Ag"];
        var my2013_Sept = crime_by_year[el][2013]["Sep"];
        var my2013_Oct = crime_by_year[el][2013]["Oct"];
        var my2013_Nov = crime_by_year[el][2013]["Nov"];
        var my2013_Dec = crime_by_year[el][2013]["Dec"];
        var my2014_Jan = crime_by_year[el][2014]["Jan"];
        var my2014_Feb  = crime_by_year[el][2014]["Feb"];
        var my2014_Mar = crime_by_year[el][2014]["Mar"];
        var my2014_Apr = crime_by_year[el][2014]["Apr"];
        var my2014_May = crime_by_year[el][2014]["May"];
        var my2014_Jun = crime_by_year[el][2014]["Jn"];
        var my2014_July = crime_by_year[el][2014]["Jl"];
        var my2014_Aug = crime_by_year[el][2014]["Ag"];
        var my2014_Sept = crime_by_year[el][2014]["Sep"];
        var my2014_Oct = crime_by_year[el][2014]["Oct"];
        var my2014_Nov = crime_by_year[el][2014]["Nov"];
        var my2014_Dec = crime_by_year[el][2014]["Dec"];
        crime_by_year[el] = new Array(my2011_Jan,my2011_Feb,my2011_Mar,my2011_Apr,my2011_May,my2011_Jun,my2011_July,my2011_Aug,my2011_Sept,my2011_Oct,my2011_Nov,my2011_Dec,my2012_Jan,my2012_Feb,my2012_Mar,my2012_Apr,my2012_May,my2012_Jun,my2012_July,my2012_Aug,my2012_Sept,my2012_Oct,my2012_Nov,my2012_Dec,my2013_Jan,my2013_Feb,my2013_Mar,my2013_Apr,my2013_May,my2013_Jun,my2013_July,my2013_Aug,my2013_Sept,my2013_Oct,my2013_Nov,my2013_Dec,my2014_Jan,my2014_Feb,my2014_Mar,my2014_Apr,my2014_May,my2014_Jun,my2014_July,my2014_Aug,my2014_Sept,my2014_Oct,my2014_Nov,my2014_Dec);
        var myObject = new Object();
        myObject.data = crime_by_year[el];
        myObject.name = el;
        myArray.push(myObject);
        //myArray.push(crime_by_year[el]);
    }

    var myXAxis = ['2011.1','2011.2','2011.3','2011.4','2011.5','2011.6','2011.7','2011.8','2011.9','2011.10','2011.11','2011.12','2012.1','2012.2','2012.3','20112.4','2012.5','2012.6','2012.7','2012.8','2012.9','2012.10','2012.11','2012.12','2013.1','2013.2','2013.3','2013.4','2013.5','2013.6','2013.7','2013.8','2013.9','2013.10','2013.11','2013.12','2014.1','2014.2','2014.3','2014.4','2014.5','2014.6','2014.7','2014.8','2014.9','2014.10','2014.11','2014.12'];
// $(function () {
//     var chart = new Highcharts.Chart({
//         chart: {
//             renderTo: 'container',
//             type: 'line'
//         },
//         title: {
//             text: 'Latest Crime Statistics '
//         },
var chart;
$(function () {
    chart = Highcharts.chart('container', {
        title: {
            text: 'Latest Crime Statistics',
            x: -20 //center
        },
        subtitle: {
            text: 'Source: ',
            x: -20
        },
        xAxis: {
            categories: myXAxis,
            labels: {
                zIndex: 6
            }
        },
        yAxis: {
            title: {
                text: 'CrimeRate'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }],
            labels: {
                zIndex: 6
            }
        },
        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + '</b><br/>' + this.x + ': ' + this.y + '°C';
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        },
       
        series: [{name:AreaOrder[0],data:crime_by_year[AreaOrder[0]]},{name:AreaOrder[1],data:crime_by_year[AreaOrder[1]]},{name:AreaOrder[2],data:crime_by_year[AreaOrder[2]]},{name:AreaOrder[3],data:crime_by_year[AreaOrder[3]]},{name:AreaOrder[4],data:crime_by_year[AreaOrder[4]]},{name:AreaOrder[5],data:crime_by_year[AreaOrder[5]]},{name:AreaOrder[6],data:crime_by_year[AreaOrder[6]]},{name:AreaOrder[7],data:crime_by_year[AreaOrder[7]]},{name:AreaOrder[8],data:crime_by_year[AreaOrder[8]]},{name:AreaOrder[9],data:crime_by_year[AreaOrder[9]]},{name:AreaOrder[10],data:crime_by_year[AreaOrder[10]]},{name:AreaOrder[11],data:crime_by_year[AreaOrder[11]]},{name:AreaOrder[12],data:crime_by_year[AreaOrder[12]]},{name:AreaOrder[13],data:crime_by_year[AreaOrder[13]]},{name:AreaOrder[14],data:crime_by_year[AreaOrder[14]]},{name:AreaOrder[15],data:crime_by_year[AreaOrder[15]]},{name:AreaOrder[16],data:crime_by_year[AreaOrder[16]]},{name:AreaOrder[17],data:crime_by_year[AreaOrder[17]]},{name:AreaOrder[18],data:crime_by_year[AreaOrder[18]]},{name:AreaOrder[19],data:crime_by_year[AreaOrder[19]]},{name:AreaOrder[20],data:crime_by_year[AreaOrder[20]]},{name:AreaOrder[21],data:crime_by_year[AreaOrder[21]]},{name:AreaOrder[22],data:crime_by_year[AreaOrder[22]]}]       
    });
});
var chart = $('#container').highcharts(),
        $button = $('#button');
    $(function() {
        var series = chart.series[0];
        if (series.visible) {
            $(chart.series).each(function(){
                //this.hide();
                this.setVisible(false, false);
            });
            chart.redraw();
            $button.html('Show series');
        } else {
            $(chart.series).each(function(){
                //this.show();
                this.setVisible(true, false);
            });
            chart.redraw();
            $button.html('Hide series');
        }
    });
Highcharts.createElement('link', {
   href: 'https://fonts.googleapis.com/css?family=Signika:400,700',
   rel: 'stylesheet',
   type: 'text/css'
}, null, document.getElementsByTagName('head')[0]);


// Add the background image to the container
Highcharts.wrap(Highcharts.Chart.prototype, 'getContainer', function (proceed) {
   proceed.call(this);
   this.container.style.background = 'url(http://www.highcharts.com/samples/graphics/sand.png)';
});
}
});
//      
//var myMap = new Map();
//myMap.set('tokyo',[7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5,7.0, 6.9, 9.5, 14.5]);
//myMap.set('New York',[-0.2, 0.8, 5.7, 11.3]);
//myMap.set('Berlin',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('London',[3.9, 4.2, 5.7, 8.5]);
//myMap.set('Waterloo',[3.0,3.0,3.0,3.0]);
//
//myMap.set('Berlin1',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin2',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin3',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin4',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin5',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin6',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin7',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin8',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin9',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin0',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin11',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin12',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin13',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin14',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin15',[-0.9, 0.6, 3.5, 8.4]);
//myMap.set('Berlin',[-0.9, 0.6, 3.5, 8.4]);
//
//var myArray = new Array();
//
//$(function()
//        {
//          myMap.forEach(function(value,key){
//            var myObject = new Object();
//            myObject.name = key;
//            myObject.data = value;
//            myArray.push(myObject);
//          });
//          console.log(myArray.toString());
//        });


</script>
